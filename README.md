# MiaoTools

MiaoTools 是一个 Blender 插件，集合了多种便捷操作工具，以提升 Blender 的操作效率。

## 工具集

### 编辑工具

- **移除顶点组**: 移除所选物体的顶点组（可批量）。
- **移除修改器**: 移除所选物体的修改器（可批量）。
- **批量独立化物体**: 将所选物体与其他物体断开关系，实现独立化操作（可批量）。
- **矫正旋转**: 
  - 在编辑模式下选择物体的一个较正的面作为参考面，对整个物体的旋转轴向进行矫正。
  - 特别适用于已应用过变换的物体，如建筑模型。

### 清理工具

- **清空空集合**: 清理场景中空的集合。
- **清除无子集空物体**: 清理场景中没有子集的空物体，需要递归则需手动多次操作。
- **批量清空动画**: 对所选物体进行动画清除操作。
- **清理无实体工具**: 清理场景中没有顶点的 mesh 块。
- **清理 UV 非法数据**: 清除 UV 非法数据，解决 UV 无法保存的问题。
- **清理丢失图像**: 清理场景中丢失的图像纹理数据块，解决保存时纹理找不到的错误。

### 动画工具

- **暂无功能**: 仅预留面板。

### 生成工具

- **生成包围盒**: 对所选物体生成包围盒（立方体形状），名称与源物体相同并加上 "_box" 后缀。
- **生成凸包**: 对所选物体生成凸包，名称与原物体相同并加上 "_col" 后缀。
- **安全合并**
- **转换实例化**: 以最后选择的物体作为实例化基准，将其他物体替换为该物体（保持变换），实现实例化。

## 导入导出

- **导出操作**: 设定导出路径后，点击按顶级父级导出按钮，将场景中所有物体进行旋转缩放调整后导出，以适应 Unity 中的变换。以所有物体的顶级父级为一个 FBX 文件进行导出。

## 重命名工具

- **UnityCar 自动重命名**: 自动识别并重命名四轮载具的底部四个轮子（适用于 Unity 项目）。
- **Rigcar 自动重命名**: 自动识别并重命名四轮载具的底部四个轮子（适用于 Rigcar 插件）。
- **子集命名为顶级**: 将物体名称修改为其顶级父级名称，自动加序号后缀。
- **命名为所处集合名称**: 将物体命名为集合名称。
- **移除后缀**
- **移除顶级后缀并解决重名**
- **mesh 命名为物体**: mesh 名称改为物体名称。
- **物体命名为 mesh**: 物体名称改为包含的 mesh 名称。
- **集合内位置重命名**: 按照集合中的位置关系进行重命名。
- **空间顺序重命名**: 按照空间的位置关系进行重命名（自动加后缀序号）。

## 其他功能

- **旋转位移缩放**
- **列队**: 在指定轴向上按设定距离排列所选物体。
- **随机放置**: 在指定范围内随机放置所选物体。
- **随机缩放**: 在指定缩放范围内对所选物体进行随机缩放。
- **批量对齐顶级父级物体**: 指定两个集合，批量对齐集合 A 中的物体到集合 B 中同名物体上。
- **下落至表面**: 以最后选择的物体表面为基准，将所选物体下落。

## 批量渲染

- **输出路径**: 渲染出的图片存储目标路径。
- **输出名称**: 输出图片名称的前缀。
- **输出格式**: 图片格式。
- **渲染集合**: 选择要进行渲染的集合。
- **相机**: 选择渲染时要使用的相机。
- **聚焦到每个物体**: 渲染时聚焦到每个物体，使物体紧贴相机视口边框（仅在正交模式有效）。
- **边框距离**: 设置正交模式下渲染图片与边框的间距。
- **渲染**: 遍历目标集合下所有物体，以顶级父级分组进行渲染。若需隐藏其他集合内容，需手动在大纲中屏蔽渲染。

## 批量调整渲染设置

- 对指定路径下的 Blender 文件进行批量调整，详见面板。
